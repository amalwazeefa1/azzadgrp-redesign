<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tailwind Card Carousel</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Hide scrollbar */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body class="bg-slate-100 min-h-screen flex items-center justify-center p-6">

    <!-- Carousel Wrapper -->
    <div class="w-full max-w-6xl" aria-label="Card carousel">
        <div
            class="track flex gap-6 overflow-x-auto snap-x snap-mandatory scroll-smooth
                   scrollbar-hide cursor-grab select-none">

            <!-- Card -->
            <article
                class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow
                       flex items-center justify-center text-xl font-bold">
                Card 1
            </article>

            <article class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow flex items-center justify-center text-xl font-bold">
                Card 2
            </article>

            <article class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow flex items-center justify-center text-xl font-bold">
                Card 3
            </article>

            <article class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow flex items-center justify-center text-xl font-bold">
                Card 4
            </article>

            <!-- repeat -->
            <article class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow flex items-center justify-center text-xl font-bold">
                Card 1
            </article>

            <article class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow flex items-center justify-center text-xl font-bold">
                Card 2
            </article>

            <article class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow flex items-center justify-center text-xl font-bold">
                Card 3
            </article>

            <article class="card snap-start min-w-[260px] h-40 bg-white rounded-xl shadow flex items-center justify-center text-xl font-bold">
                Card 4
            </article>

        </div>
    </div>

    <!-- Drag / Snap Script -->
    <script>
        const track = document.querySelector('.track');
        const cards = Array.from(track.children);

        let isDown = false;
        let startX = 0;
        let startScroll = 0;

        track.addEventListener('pointerdown', (e) => {
            isDown = true;
            track.setPointerCapture(e.pointerId);
            startX = e.clientX;
            startScroll = track.scrollLeft;
            track.classList.remove('snap-x', 'snap-mandatory');
            track.classList.add('cursor-grabbing');
        });

        track.addEventListener('pointermove', (e) => {
            if (!isDown) return;
            const dx = e.clientX - startX;
            track.scrollLeft = startScroll - dx;
        });

        track.addEventListener('pointerup', () => {
            isDown = false;
            track.classList.remove('cursor-grabbing');

            const trackRect = track.getBoundingClientRect();
            const trackCenter = track.scrollLeft + trackRect.width / 2;

            let nearest = cards[0];
            let nearestDist = Infinity;

            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const cardCenter =
                    track.scrollLeft + rect.left + rect.width / 2 - trackRect.left;

                const dist = Math.abs(cardCenter - trackCenter);
                if (dist < nearestDist) {
                    nearest = card;
                    nearestDist = dist;
                }
            });

            nearest.scrollIntoView({
                behavior: 'smooth',
                inline: 'start',
                block: 'nearest'
            });

            setTimeout(() => {
                track.classList.add('snap-x', 'snap-mandatory');
            }, 300);
        });

        track.addEventListener('pointercancel', () => {
            isDown = false;
            track.classList.remove('cursor-grabbing');
            track.classList.add('snap-x', 'snap-mandatory');
        });
    </script>

</body>

</html>
